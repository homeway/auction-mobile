<html>
<head>
    <meta charset="utf-8">
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
    <title>竞价平台移动版</title>

    <link rel="stylesheet" href="css/jquery.mobile-1.3.2.min.css"/>

</head>

<body class="app">
  <h1>竞价平台演示</h1>
  <ul data-role="listview" data-inset="true">
      <li data-role="list-divider">点击下面的链接进入演示</li>
      <li><a href="http://192.168.10.248:8080/ras/">本地测试1</a></li>
      <li><a href="http://192.168.10.248:8080/ras/">产权局域网1</a></li>
  </ul>
  <script type="text/javascript" src="cordova.js"></script>
  <script type="text/javascript" src="js/jquery-1.10.2.min.js"></script>
  <script type="text/javascript" src="js/jquery.mobile-1.3.2.min.js"></script>
  <script type="text/javascript">
    var app = {
      // Application Constructor
      initialize: function() {
          this.bindEvents();
      },
      // Bind Event Listeners
      //
      // Bind any events that are required on startup. Common events are:
      // 'load', 'deviceready', 'offline', and 'online'.
      bindEvents: function() {
          document.addEventListener('deviceready', this.onDeviceReady, false);
      },
      // deviceready Event Handler
      //
      // The scope of 'this' is the event. In order to call the 'receivedEvent'
      // function, we must explicity call 'app.receivedEvent(...);'
      onDeviceReady: function() {
          app.receivedEvent('deviceready');
      },
      // Update DOM on a Received Event
      receivedEvent: function(id) {
          var parentElement = document.getElementById(id);
          var listeningElement = parentElement.querySelector('.listening');
          var receivedElement = parentElement.querySelector('.received');

          listeningElement.setAttribute('style', 'display:none;');
          receivedElement.setAttribute('style', 'display:block;');

          console.log('Received Event: ' + id);
      }
  };
    app.initialize();

    // Wait for Cordova to load
    //
    document.addEventListener("deviceready", onDeviceReady, false);

    // Cordova is ready
    //
    function onDeviceReady() {
        checkConnection();
        readDevice();
    }
    
    function checkConnection() {
        var networkState = navigator.connection.type;
        
        var states = {};
        states[Connection.UNKNOWN]  = 'Unknown connection';
        states[Connection.ETHERNET] = 'Ethernet connection';
        states[Connection.WIFI]     = 'WiFi connection';
        states[Connection.CELL_2G]  = 'Cell 2G connection';
        states[Connection.CELL_3G]  = 'Cell 3G connection';
        states[Connection.CELL_4G]  = 'Cell 4G connection';
        states[Connection.CELL]     = 'Cell generic connection';
        states[Connection.NONE]     = 'No network connection';
        
        alert('Connection type: ' + states[networkState]);
    }

    function readDevice() {
        var element = document.getElementById('deviceProperties');
        
        element.innerHTML = 'Device Name: '     + device.name     + '<br />' +
        'Device Cordova: '  + device.cordova + '<br />' +
        'Device Platform: ' + device.platform + '<br />' +
        'Device UUID: '     + device.uuid     + '<br />' +
        'Device Model: '    + device.model     + '<br />' +
        'Device Version: '  + device.version  + '<br />';
    }
  </script>
</body>

</html>
